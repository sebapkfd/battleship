(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(4),o=n.n(i),s=(n(10),function(){return Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h1",{children:"BattleShip"})})}),l=n(2),u=function(e){var t=e.id,n=e.attack,a=e.tableName,i=Object(r.useState)("box"),o=Object(l.a)(i,2),s=o[0],u=o[1];return Object(c.jsx)("div",{className:s,id:"".concat(a).concat(t),onClick:function(){if("pc"!==a)return n(t);var e=n(t);null===e||(e?u("hit-box"):e||u("no-hit-box"))}})},d=function(e){for(var t=e.selectMove,n=e.tableName,r=e.selectPos,a=function(e){return"pc"===n?t(e):r(e)},i=[],o=0;o<100;o++){var s=Object(c.jsx)(u,{id:o,tableName:n,attack:a},o);i.push(s)}return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"tablename",children:Object(c.jsxs)("h2",{children:[n," Table"]})}),Object(c.jsx)("div",{className:"table",children:i})]})},b=function(e){var t=Array(e).fill(!1);return{size:e,status:t,hit:function(e){t[e]||(t[e]=!0)},isSunk:function(){return!t.includes(!1)}}},h=function(){for(var e=Array(100),t=0;t<e.length;t++)e[t]={occupied:!1,ship:null,shipPos:null,isHit:!1};var n=[];return{positions:e,placeShip:function(t,c,r){var a=b(t);return"horizontal"===r?function(t,c){var r=c+t.size-1;if(Math.floor(c/10)!==Math.floor(r/10))return!1;for(var a=c;a<=r;a++)if(e[a].occupied)return!1;for(var i=c;i<=r;i++)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=i-c;return n.push(t),!0}(a,c):function(t,c){var r=c+10*(t.size-1);if(r>99)return!1;for(var a=c;a<=r;a+=10)if(e[a].occupied)return!1;for(var i=c;i<=r;i+=10)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=(i-c)/10;return n.push(t),!0}(a,c)},receiveAttack:function(t){return e[t].occupied?e[t].occupied?(e[t].isHit=!0,e[t].ship.hit(e[t].shipPos),!0):void 0:(e[t].isHit=!0,!1)},allSunk:function(){var e=!0;return n.forEach((function(t){!1===t.isSunk()&&(e=!1)})),e}}},f=function(){var e=h(),t=[];return{board:e,randomAttack:function(e){if(100===t.length)return{isHit:null,mov:-1};for(var n;n=Math.floor(100*Math.random()),t.includes(n););var c=e.receiveAttack(n);return t.push(n),{isHit:c,mov:n}},randomPlace:function(t){for(var n,c=["horizontal","vertical"][Math.floor(2*Math.random())];n=Math.floor(100*Math.random()),!e.placeShip(t,n,c););return n},attack:function(e,n){if(100===t.length||t.includes(n))return null;var c=e.receiveAttack(n);return t.push(n),c}}},v=function(){var e=f(),t=f();return{Player1:e,Player2:t,defaultPos:function(){for(var n=0;n<1;n++)e.board.placeShip(3,0),t.board.placeShip(3,0);return!0},isFinished:function(){return!(!e.board.allSunk()&&!t.board.allSunk())&&(console.log("Game Over"),!0)}}},j=function(){var e=Object(r.useState)(v()),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],b=Object(r.useState)(0),h=Object(l.a)(b,2),f=h[0],j=h[1],p=Object(r.useState)(5),m=Object(l.a)(p,2),O=m[0],x=m[1],S=Object(r.useState)("horizontal"),k=Object(l.a)(S,2),N=k[0],P=k[1],M=n.Player1,y=n.Player2,z=function(){var e=y.randomAttack(M.board);e.isHit;var t=document.getElementById("user".concat(e.mov));e.isHit?t.className="hit-box":t.className="no-hit-box"},g=function(e){if(n.isFinished()||!s)return null;var t=M.attack(y.board,e);return null===t?null:t?(z(),!0):t?void 0:(z(),!1)},A=function(e){s||M.board.placeShip(O,e,N)&&(!function(e,t,n){var c;if("horizontal"===n)for(var r=parseInt(t)+e-1,a=t;a<=r;a++)"box-selected"!==(c=document.getElementById("user".concat(a))).className&&(c.className="box-selected");else if("vertical"===n)for(var i=t+10*(e-1),o=t;o<=i;o+=10)"box-selected"!==(c=document.getElementById("user".concat(o))).className&&(c.className="box-selected")}(O,e,N),y.randomPlace(O),O>1&&x(O-1),2===O&&(u(!0),console.log("Game Starts")))},H=Object(c.jsx)(d,{selectMove:g,selectPos:A,tableName:"user"},"A".concat(f)),B=Object(c.jsx)(d,{selectMove:g,selectPos:A,tableName:"pc"},"B".concat(f)),E=O>1?Object(c.jsxs)("button",{children:["Ship size: ",O]}):null,I=s?null:Object(c.jsx)("button",{onClick:function(){P("horizontal"===N?"vertical":"horizontal")},children:N});return Object(c.jsxs)("div",{className:"board",children:[Object(c.jsx)("button",{onClick:function(){a(v()),u(!1),j(f+1),x(5)},children:"Clean"}),I,E,Object(c.jsxs)("div",{className:"tables-display",children:[H,B]})]})};var p=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(s,{}),Object(c.jsx)(j,{})]})};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.bb0d9252.chunk.js.map