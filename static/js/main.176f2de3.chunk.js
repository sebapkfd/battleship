(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(8),i=n.n(s),u=(n(14),function(){return Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"BattleShip"})})}),l=n(2),o=n(3),b=n(6),d=function(e){var t=Array(e).fill(!1);return{size:e,status:t,hit:function(e){t[e]||(t[e]=!0)},isSunk:function(){return!t.includes(!1)}}},h=function(){var e=Object(b.a)(Array(100)).map((function(e){return{occupied:!1,ship:null,shipPos:null,isHit:!1}})),t=[];return{positions:e,placeShip:function(n,a,r){var c=d(n);return"horizontal"===r?function(n,a){var r=a+n.size-1;if(Math.floor(a/10)!==Math.floor(r/10))return!1;for(var c=a;c<=r;c++)if(e[c].occupied)return!1;for(var s=a;s<=r;s++)e[s].ship=n,e[s].occupied=!0,e[s].shipPos=s-a;return t.push(n),!0}(c,a):function(n,a){var r=a+10*(n.size-1);if(r>99)return!1;for(var c=a;c<=r;c+=10)if(e[c].occupied)return!1;for(var s=a;s<=r;s+=10)e[s].ship=n,e[s].occupied=!0,e[s].shipPos=(s-a)/10;return t.push(n),!0}(c,a)},receiveAttack:function(t){return e[t].occupied?e[t].occupied?(e[t].isHit=!0,e[t].ship.hit(e[t].shipPos),!0):void 0:(e[t].isHit=!0,!1)},allSunk:function(){var e=!0;return t.forEach((function(t){t.isSunk()||(e=!1)})),e},availableShips:function(){var e=0;return t.forEach((function(t){t.isSunk()||e++})),e}}},j=function(){var e=h(),t=[],n=[],a=function(e){if(100===t.length)return{isHit:null,mov:-1};for(var n;n=Math.floor(100*Math.random()),t.includes(n););var a=e.receiveAttack(n);return t.push(n),{isHit:a,mov:n}},r=function(e){e+10<99&&!t.includes(e+10)&&!n.includes(e+10)&&n.push(e+10),e-10>0&&!t.includes(e-10)&&!n.includes(e-10)&&n.push(e-10),e%10===0&&(e-1)%10===9||t.includes(e-1)||!(e-1>=0)||n.includes(e-1)||n.push(e-1),e%10===9&&(e+1)%10===0||t.includes(e+1)||!(e+1<=99)||n.includes(e+1)||n.push(e+1)},c=function(e){if(0===n.length)return a(e);var r=Math.floor(Math.random()*n.length),c=n[r];n.splice(r,1);var s=e.receiveAttack(c);return t.push(c),{isHit:s,mov:c}};return{board:e,possibleAttacks:n,randomAttack:a,randomPlace:function(t){for(var n,a=["horizontal","vertical"][Math.floor(2*Math.random())];n=Math.floor(100*Math.random()),!e.placeShip(t,n,a););return n},attack:function(e,n){if(100===t.length||t.includes(n))return null;var a=e.receiveAttack(n);return t.push(n),a},combo:c,setPossibleAttacks:r,turn:function e(t,s){var i="combo"===t||n.length>0?c(s):a(s);if(null!==i.isHit){var u=document.getElementById("User".concat(i.mov));i.isHit?(u.className="hit-box",r(i.mov),e("combo",s)):u.className="no-hit-box"}}}},f=function(){var e=j(),t=j();return{user:e,pc:t,winner:null,started:!1,defaultPos:function(){for(var n=0;n<1;n++)e.board.placeShip(3,0),t.board.placeShip(3,0);return!0},isFinished:function(){return!(!e.board.allSunk()&&!t.board.allSunk())}}},v=function(e){var t=e.values,n=t.shipSize,r=t.started,c=t.direction,s=t.changeDirection,i=t.restartGame,u=n>1?Object(a.jsxs)("button",{children:["Ship size: ",n]}):null,l=r?null:Object(a.jsx)("button",{onClick:s,children:c}),o=Object(a.jsx)("button",{onClick:function(){return i()},children:"Restart"});return Object(a.jsxs)("div",{className:"buttons",children:[o,l,u]})},p=function(e){var t=e.winner,n=t?Object(a.jsxs)("h3",{children:[t," Wins!"]}):null;return Object(a.jsx)("div",{className:"message",children:n})},O=function(e){var t=e.values,n=t.started,r=t.buttonValues,c=t.winner,s=n?Object(a.jsx)("h3",{children:"Attack the enemy"}):Object(a.jsx)("h3",{children:" Place your ships on the Board"});return Object(a.jsxs)("div",{className:"buttons-ins",children:[s,Object(a.jsx)(v,{values:r}),Object(a.jsx)(p,{winner:c})]})},m=function(e){var t=e.values,n=t.id,c=t.attack,s=t.tableName,i=Object(r.useState)("box"),u=Object(o.a)(i,2),l=u[0],b=u[1];return Object(a.jsx)("div",{className:l,id:"".concat(s).concat(n),onClick:function(){if("Pc"!==s)return c(n);var e=c(n);null!==e&&b(e?"hit-box":"no-hit-box")}})},x=function(e){var t=e.info,n=t.tableName,r=t.status,c=t.started,s=c?Object(a.jsxs)("h2",{children:[r," Ships Available ",c]}):null;return Object(a.jsxs)("div",{className:"table-info",children:[Object(a.jsxs)("h2",{children:[n," Board"]}),s]})},S=function(e){var t=e.values,n=t.turns,r=t.placeFleets,c=t.started,s=t.tableName,i=t.status,u=function(e){return"Pc"===s?n(e):r(e)},l=Object(b.a)(Array(100)).map((function(e,t){return Object(a.jsx)(m,{values:{attack:u,tableName:s,id:t}},t)}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(x,{info:{tableName:s,started:c,status:i}}),Object(a.jsx)("div",{className:"table",children:l})]})},k=function(e){var t=e.values,n=t.started,r=t.resetKey,c=t.tableValues,s=t.pcValues,i=t.userValues,u=n?Object(a.jsx)(S,{values:Object(l.a)(Object(l.a)({},c),s)},"B".concat(r)):null;return Object(a.jsxs)("div",{className:"tables-display",children:[Object(a.jsx)(S,{values:Object(l.a)(Object(l.a)({},c),i)},"A".concat(r)),u]})},N=function(e,t,n){var a;if("horizontal"===n)for(var r=parseInt(t)+e-1,c=t;c<=r;c++)"box-selected"!==(a=document.getElementById("User".concat(c))).className&&(a.className="box-selected");else if("vertical"===n)for(var s=t+10*(e-1),i=t;i<=s;i+=10)"box-selected"!==(a=document.getElementById("User".concat(i))).className&&(a.className="box-selected")},g=function(){var e=Object(r.useState)(f()),t=Object(o.a)(e,2),n=t[0],c=t[1],s=n.user,i=n.pc,u=n.started,b=n.winner,d=Object(r.useState)(0),h=Object(o.a)(d,2),j=h[0],v=h[1],p=Object(r.useState)(6),m=Object(o.a)(p,2),x=m[0],S=m[1],g=Object(r.useState)("horizontal"),P=Object(o.a)(g,2),A=P[0],y=P[1],z=Object(r.useState)(5),M=Object(o.a)(z,2),w=M[0],B=M[1],H=Object(r.useState)(5),V=Object(o.a)(H,2),U=V[0],E=V[1],F=function(e){if("Pc"===e){var t=i.board.availableShips();E(t)}else if("User"===e){var n=s.board.availableShips();B(n)}},I=function(){return!(!n.isFinished()||!u)&&(s.board.allSunk()?c(Object(l.a)(Object(l.a)({},n),{},{winner:"Pc"})):i.board.allSunk()&&c(Object(l.a)(Object(l.a)({},n),{},{winner:"User"})),!0)},C={shipSize:x,started:u,direction:A,changeDirection:function(){y("horizontal"===A?"vertical":"horizontal")},restartGame:function(){c(f()),v(j+1),S(6),B(5),E(5)}},G={started:u,resetKey:j,tableValues:{turns:function(e){if(n.isFinished()||!u)return null;var t=s.attack(i.board,e);return F("Pc"),null===t?null:(t||i.turn("random",s.board),F("User"),I(),t)},placeFleets:function(e){u||s.board.placeShip(x,e,A)&&(N(x,e,A),i.randomPlace(x),x>1&&S(x-1),2===x&&c(Object(l.a)(Object(l.a)({},n),{},{started:!0})))},started:u},pcValues:{tableName:"Pc",status:U},userValues:{tableName:"User",status:w}};return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsx)(O,{values:{started:u,buttonValues:C,winner:b}}),Object(a.jsx)(k,{values:G})]})},P=function(){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("a",{href:"https://github.com/sebapkfd/battleship",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("img",{src:"https://img.icons8.com/fluent/48/000000/github.png",alt:"Github",id:"repo"})})})};var A=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(u,{}),Object(a.jsx)(g,{}),Object(a.jsx)(P,{})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.176f2de3.chunk.js.map