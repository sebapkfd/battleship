(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),i=a(4),s=a.n(i),o=(a(10),function(){return Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("h1",{children:"BattleShip"})})}),l=a(2),u=function(e){var t=e.id,a=e.attack,r=e.tableName,i=Object(c.useState)("box"),s=Object(l.a)(i,2),o=s[0],u=s[1];return Object(n.jsx)("div",{className:o,id:"".concat(r).concat(t),onClick:function(){if("Pc"!==r)return a(t);var e=a(t);null===e||(e?u("hit-box"):e||u("no-hit-box"))}})},d=function(e){for(var t=e.selectMove,a=e.tableName,c=e.selectPos,r=e.status,i=e.display,s=function(e){return"Pc"===a?t(e):c(e)},o=[],l=0;l<100;l++){var d=Object(n.jsx)(u,{id:l,tableName:a,attack:s},l);o.push(d)}var h=i?Object(n.jsxs)("h2",{children:[r," Ships Available ",i]}):null;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"table-name",children:Object(n.jsxs)("h2",{children:[a," Board"]})}),Object(n.jsx)("div",{className:"table-status",children:h}),Object(n.jsx)("div",{className:"table",children:o})]})},h=function(e){var t=Array(e).fill(!1);return{size:e,status:t,hit:function(e){t[e]||(t[e]=!0)},isSunk:function(){return!t.includes(!1)}}},b=function(){for(var e=Array(100),t=0;t<e.length;t++)e[t]={occupied:!1,ship:null,shipPos:null,isHit:!1};var a=[];return{positions:e,placeShip:function(t,n,c){var r=h(t);return"horizontal"===c?function(t,n){var c=n+t.size-1;if(Math.floor(n/10)!==Math.floor(c/10))return!1;for(var r=n;r<=c;r++)if(e[r].occupied)return!1;for(var i=n;i<=c;i++)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=i-n;return a.push(t),!0}(r,n):function(t,n){var c=n+10*(t.size-1);if(c>99)return!1;for(var r=n;r<=c;r+=10)if(e[r].occupied)return!1;for(var i=n;i<=c;i+=10)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=(i-n)/10;return a.push(t),!0}(r,n)},receiveAttack:function(t){return e[t].occupied?e[t].occupied?(e[t].isHit=!0,e[t].ship.hit(e[t].shipPos),!0):void 0:(e[t].isHit=!0,!1)},allSunk:function(){var e=!0;return a.forEach((function(t){!1===t.isSunk()&&(e=!1)})),e},availableShips:function(){var e=0;return a.forEach((function(t){!1===t.isSunk()&&e++})),e}}},j=function(){var e=b(),t=[],a=function(e){if(100===t.length)return{isHit:null,mov:-1};for(var a;a=Math.floor(100*Math.random()),t.includes(a););var n=e.receiveAttack(a);return t.push(a),{isHit:n,mov:a}};return{board:e,randomAttack:a,randomPlace:function(t){for(var a,n=["horizontal","vertical"][Math.floor(2*Math.random())];a=Math.floor(100*Math.random()),!e.placeShip(t,a,n););return a},attack:function(e,a){if(100===t.length||t.includes(a))return null;var n=e.receiveAttack(a);return t.push(a),n},combo:function(e,n){var c=[];if(e+10<99&&!t.includes(e+10)&&c.push(e+10),e-10>0&&!t.includes(e-10)&&c.push(e-10),(e-1)%10===9||t.includes(e-1)||c.push(e-1),(e+1)%10===1||t.includes(e+1)||c.push(e+1),0===c.length)return a(n);var r=c[Math.floor(Math.random()*c.length)],i=n.receiveAttack(r);return t.push(r),{isHit:i,mov:r}}}},f=function(){var e=j(),t=j();return{Player1:e,Player2:t,defaultPos:function(){for(var a=0;a<1;a++)e.board.placeShip(3,0),t.board.placeShip(3,0);return!0},isFinished:function(){return!(!e.board.allSunk()&&!t.board.allSunk())}}},v=function(e){var t=e.shipSize,a=e.started,c=e.direction,r=e.changeDirection,i=e.restartGame,s=t>1?Object(n.jsxs)("button",{children:["Ship size: ",t]}):null,o=a?null:Object(n.jsx)("button",{onClick:r,children:c}),l=Object(n.jsx)("button",{onClick:i,children:"Restart"});return Object(n.jsxs)("div",{className:"buttons",children:[l,o,s]})},p=function(){var e=Object(c.useState)(f()),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1],h=Object(c.useState)(0),b=Object(l.a)(h,2),j=b[0],p=b[1],m=Object(c.useState)(5),O=Object(l.a)(m,2),x=O[0],S=O[1],k=Object(c.useState)("horizontal"),N=Object(l.a)(k,2),P=N[0],y=N[1],M=Object(c.useState)(null),z=Object(l.a)(M,2),A=z[0],g=z[1],B=a.Player1,H=a.Player2,U=Object(c.useState)(4),E=Object(l.a)(U,2),I=E[0],w=E[1],C=Object(c.useState)(4),F=Object(l.a)(C,2),D=F[0],G=F[1],J=function(e){if("Pc"===e){var t=H.board.availableShips();G(t)}else if("User"===e){var a=B.board.availableShips();w(a)}},R=function e(t,a){var n;(n="combo"===t?H.combo(a,B.board):H.randomAttack(B.board)).isHit;var c=document.getElementById("User".concat(n.mov));n.isHit?(c.className="hit-box",e("combo",n.mov)):c.className="no-hit-box"},q=function(e){if(a.isFinished()||!o)return null;var t=B.attack(H.board,e);return J("Pc"),null===t?null:(t||R(null),J("User"),L(),t)},K=function(e){o||B.board.placeShip(x,e,P)&&(!function(e,t,a){var n;if("horizontal"===a)for(var c=parseInt(t)+e-1,r=t;r<=c;r++)"box-selected"!==(n=document.getElementById("User".concat(r))).className&&(n.className="box-selected");else if("vertical"===a)for(var i=t+10*(e-1),s=t;s<=i;s+=10)"box-selected"!==(n=document.getElementById("User".concat(s))).className&&(n.className="box-selected")}(x,e,P),H.randomPlace(x),x>1&&S(x-1),2===x&&u(!0))},L=function(){return!(!a.isFinished()||!o)&&(B.board.allSunk()?g("Pc"):H.board.allSunk()&&g("User"),!0)},Q=Object(n.jsx)(d,{selectMove:q,selectPos:K,tableName:"User",status:I,display:o},"A".concat(j)),T=Object(n.jsx)(d,{selectMove:q,selectPos:K,tableName:"Pc",status:D,display:o},"B".concat(j)),V=o?Object(n.jsx)("h3",{children:"Attack the enemy"}):Object(n.jsx)("h3",{children:" Place your ships on the User Board"}),W=A?Object(n.jsxs)("h3",{children:[" ",A," wins!"]}):null;return Object(n.jsxs)("div",{className:"board",children:[Object(n.jsxs)("div",{className:"buttons-ins",children:[Object(n.jsx)(v,{shipSize:x,started:o,direction:P,changeDirection:function(){y("horizontal"===P?"vertical":"horizontal")},restartGame:function(){r(f()),u(!1),p(j+1),S(5),g(null),w(4),G(4)}}),V,W]}),Object(n.jsxs)("div",{className:"tables-display",children:[Q,T]})]})};var m=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(o,{}),Object(n.jsx)(p,{})]})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.9d257504.chunk.js.map