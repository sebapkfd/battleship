(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),i=a(4),s=a.n(i),o=(a(10),function(){return Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("h1",{children:"BattleShip"})})}),l=a(2),u=function(e){var t=e.id,a=e.attack,r=e.tableName,i=Object(c.useState)("box"),s=Object(l.a)(i,2),o=s[0],u=s[1];return Object(n.jsx)("div",{className:o,id:"".concat(r).concat(t),onClick:function(){if("Pc"!==r)return a(t);var e=a(t);null===e||(e?u("hit-box"):e||u("no-hit-box"))}})},b=function(e){for(var t=e.selectMove,a=e.tableName,c=e.selectPos,r=e.status,i=e.display,s=function(e){return"Pc"===a?t(e):c(e)},o=[],l=0;l<100;l++){var b=Object(n.jsx)(u,{id:l,tableName:a,attack:s},l);o.push(b)}var d=i?Object(n.jsxs)("h2",{children:[r," Ships Available ",i]}):null;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"table-name",children:Object(n.jsxs)("h2",{children:[a," Board"]})}),Object(n.jsx)("div",{className:"table-status",children:d}),Object(n.jsx)("div",{className:"table",children:o})]})},d=function(e){var t=Array(e).fill(!1);return{size:e,status:t,hit:function(e){t[e]||(t[e]=!0)},isSunk:function(){return!t.includes(!1)}}},h=function(){for(var e=Array(100),t=0;t<e.length;t++)e[t]={occupied:!1,ship:null,shipPos:null,isHit:!1};var a=[];return{positions:e,placeShip:function(t,n,c){var r=d(t);return"horizontal"===c?function(t,n){var c=n+t.size-1;if(Math.floor(n/10)!==Math.floor(c/10))return!1;for(var r=n;r<=c;r++)if(e[r].occupied)return!1;for(var i=n;i<=c;i++)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=i-n;return a.push(t),!0}(r,n):function(t,n){var c=n+10*(t.size-1);if(c>99)return!1;for(var r=n;r<=c;r+=10)if(e[r].occupied)return!1;for(var i=n;i<=c;i+=10)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=(i-n)/10;return a.push(t),!0}(r,n)},receiveAttack:function(t){return e[t].occupied?e[t].occupied?(e[t].isHit=!0,e[t].ship.hit(e[t].shipPos),!0):void 0:(e[t].isHit=!0,!1)},allSunk:function(){var e=!0;return a.forEach((function(t){!1===t.isSunk()&&(e=!1)})),e},availableShips:function(){var e=0;return a.forEach((function(t){!1===t.isSunk()&&e++})),e}}},j=function(){var e=h(),t=[];return{board:e,randomAttack:function(e){if(100===t.length)return{isHit:null,mov:-1};for(var a;a=Math.floor(100*Math.random()),t.includes(a););var n=e.receiveAttack(a);return t.push(a),{isHit:n,mov:a}},randomPlace:function(t){for(var a,n=["horizontal","vertical"][Math.floor(2*Math.random())];a=Math.floor(100*Math.random()),!e.placeShip(t,a,n););return a},attack:function(e,a){if(100===t.length||t.includes(a))return null;var n=e.receiveAttack(a);return t.push(a),n}}},f=function(){var e=j(),t=j();return{Player1:e,Player2:t,defaultPos:function(){for(var a=0;a<1;a++)e.board.placeShip(3,0),t.board.placeShip(3,0);return!0},isFinished:function(){return!(!e.board.allSunk()&&!t.board.allSunk())}}},v=function(){var e=Object(c.useState)(f()),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(c.useState)(0),h=Object(l.a)(d,2),j=h[0],v=h[1],p=Object(c.useState)(5),O=Object(l.a)(p,2),m=O[0],x=O[1],S=Object(c.useState)("horizontal"),k=Object(l.a)(S,2),N=k[0],P=k[1],y=Object(c.useState)(null),M=Object(l.a)(y,2),A=M[0],z=M[1],B=a.Player1,U=a.Player2,g=Object(c.useState)(4),H=Object(l.a)(g,2),E=H[0],I=H[1],w=Object(c.useState)(4),C=Object(l.a)(w,2),F=C[0],J=C[1],R=function(e){if("Pc"===e){var t=U.board.availableShips();J(t)}else if("User"===e){var a=B.board.availableShips();I(a)}},q=function(e){if(a.isFinished()||!o)return null;var t=B.attack(U.board,e);return R("Pc"),null===t?null:(function(){var e=U.randomAttack(B.board);e.isHit;var t=document.getElementById("User".concat(e.mov));e.isHit?t.className="hit-box":t.className="no-hit-box"}(),R("User"),G(),t)},D=function(e){o||B.board.placeShip(m,e,N)&&(!function(e,t,a){var n;if("horizontal"===a)for(var c=parseInt(t)+e-1,r=t;r<=c;r++)"box-selected"!==(n=document.getElementById("User".concat(r))).className&&(n.className="box-selected");else if("vertical"===a)for(var i=t+10*(e-1),s=t;s<=i;s+=10)"box-selected"!==(n=document.getElementById("User".concat(s))).className&&(n.className="box-selected")}(m,e,N),U.randomPlace(m),m>1&&x(m-1),2===m&&u(!0))},G=function(){return!(!a.isFinished()||!o)&&(B.board.allSunk()?z("Pc"):U.board.allSunk()&&z("User"),!0)},K=Object(n.jsx)(b,{selectMove:q,selectPos:D,tableName:"User",status:E,display:o},"A".concat(j)),L=Object(n.jsx)(b,{selectMove:q,selectPos:D,tableName:"Pc",status:F,display:o},"B".concat(j)),Q=m>1?Object(n.jsxs)("button",{children:["Ship size: ",m]}):null,T=o?null:Object(n.jsx)("button",{onClick:function(){P("horizontal"===N?"vertical":"horizontal")},children:N}),V=o?Object(n.jsx)("h3",{children:"Attack the enemy"}):Object(n.jsx)("h3",{children:" Place your ships on the User Board"}),W=A?Object(n.jsxs)("h3",{children:[" ",A," wins!"]}):null;return Object(n.jsxs)("div",{className:"board",children:[Object(n.jsxs)("div",{className:"buttons-ins",children:[Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)("button",{onClick:function(){r(f()),u(!1),v(j+1),x(5),z(null),I(4),J(4)},children:"Restart"}),T,Q]}),V,W]}),Object(n.jsxs)("div",{className:"tables-display",children:[K,L]})]})};var p=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(o,{}),Object(n.jsx)(v,{})]})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(p,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.136c539a.chunk.js.map