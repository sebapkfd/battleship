(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),i=n(4),s=n.n(i),o=(n(10),function(){return Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"BattleShip"})})}),l=n(2),u=function(e){var t=e.id,n=e.attack,r=e.tableName,i=Object(c.useState)("box"),s=Object(l.a)(i,2),o=s[0],u=s[1];return Object(a.jsx)("div",{className:o,id:"".concat(r).concat(t),onClick:function(){if("Pc"!==r)return n(t);var e=n(t);null===e||(e?u("hit-box"):e||u("no-hit-box"))}})},d=function(e){for(var t=e.selectMove,n=e.tableName,c=e.selectPos,r=e.status,i=e.display,s=function(e){return"Pc"===n?t(e):c(e)},o=[],l=0;l<100;l++){var d=Object(a.jsx)(u,{id:l,tableName:n,attack:s},l);o.push(d)}var h=i?Object(a.jsxs)("h2",{children:[r," Ships Available ",i]}):null;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"table-name",children:Object(a.jsxs)("h2",{children:[n," Board"]})}),Object(a.jsx)("div",{className:"table-status",children:h}),Object(a.jsx)("div",{className:"table",children:o})]})},h=function(e){var t=Array(e).fill(!1);return{size:e,status:t,hit:function(e){t[e]||(t[e]=!0)},isSunk:function(){return!t.includes(!1)}}},b=function(){for(var e=Array(100),t=0;t<e.length;t++)e[t]={occupied:!1,ship:null,shipPos:null,isHit:!1};var n=[];return{positions:e,placeShip:function(t,a,c){var r=h(t);return"horizontal"===c?function(t,a){var c=a+t.size-1;if(Math.floor(a/10)!==Math.floor(c/10))return!1;for(var r=a;r<=c;r++)if(e[r].occupied)return!1;for(var i=a;i<=c;i++)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=i-a;return n.push(t),!0}(r,a):function(t,a){var c=a+10*(t.size-1);if(c>99)return!1;for(var r=a;r<=c;r+=10)if(e[r].occupied)return!1;for(var i=a;i<=c;i+=10)e[i].ship=t,e[i].occupied=!0,e[i].shipPos=(i-a)/10;return n.push(t),!0}(r,a)},receiveAttack:function(t){return e[t].occupied?e[t].occupied?(e[t].isHit=!0,e[t].ship.hit(e[t].shipPos),!0):void 0:(e[t].isHit=!0,!1)},allSunk:function(){var e=!0;return n.forEach((function(t){!1===t.isSunk()&&(e=!1)})),e},availableShips:function(){var e=0;return n.forEach((function(t){!1===t.isSunk()&&e++})),e}}},j=function(){var e=b(),t=[],n=[],a=function(e){if(100===t.length)return{isHit:null,mov:-1};for(var n;n=Math.floor(100*Math.random()),t.includes(n););var a=e.receiveAttack(n);return t.push(n),{isHit:a,mov:n}};return{board:e,possibleAttacks:n,randomAttack:a,randomPlace:function(t){for(var n,a=["horizontal","vertical"][Math.floor(2*Math.random())];n=Math.floor(100*Math.random()),!e.placeShip(t,n,a););return n},attack:function(e,n){if(100===t.length||t.includes(n))return null;var a=e.receiveAttack(n);return t.push(n),a},combo:function(e){if(0===n.length)return a(e);var c=Math.floor(Math.random()*n.length),r=n[c];n.splice(c,1);var i=e.receiveAttack(r);return t.push(r),{isHit:i,mov:r}},setPossibleAttacks:function(e){e+10<99&&!t.includes(e+10)&&!n.includes(e+10)&&n.push(e+10),e-10>0&&!t.includes(e-10)&&!n.includes(e-10)&&n.push(e-10),e%10===0&&(e-1)%10===9||t.includes(e-1)||!(e-1>=0)||n.includes(e-1)||n.push(e-1),e%10===9&&(e+1)%10===0||t.includes(e+1)||!(e+1<=99)||n.includes(e+1)||n.push(e+1)}}},f=function(){var e=j(),t=j();return{Player1:e,Player2:t,defaultPos:function(){for(var n=0;n<1;n++)e.board.placeShip(3,0),t.board.placeShip(3,0);return!0},isFinished:function(){return!(!e.board.allSunk()&&!t.board.allSunk())}}},v=function(e){var t=e.shipSize,n=e.started,c=e.direction,r=e.changeDirection,i=e.restartGame,s=t>1?Object(a.jsxs)("button",{children:["Ship size: ",t]}):null,o=n?null:Object(a.jsx)("button",{onClick:r,children:c}),l=Object(a.jsx)("button",{onClick:i,children:"Restart"});return Object(a.jsxs)("div",{className:"buttons",children:[l,o,s]})},p=function(){var e=Object(c.useState)(f()),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1],h=Object(c.useState)(0),b=Object(l.a)(h,2),j=b[0],p=b[1],m=Object(c.useState)(6),O=Object(l.a)(m,2),x=O[0],S=O[1],k=Object(c.useState)("horizontal"),P=Object(l.a)(k,2),N=P[0],y=P[1],A=Object(c.useState)(null),M=Object(l.a)(A,2),g=M[0],z=M[1],B=n.Player1,H=n.Player2,U=Object(c.useState)(4),E=Object(l.a)(U,2),I=E[0],w=E[1],C=Object(c.useState)(4),F=Object(l.a)(C,2),D=F[0],G=F[1],J=function(e){if("Pc"===e){var t=H.board.availableShips();G(t)}else if("User"===e){var n=B.board.availableShips();w(n)}},R=function e(t){var n;(n="combo"===t||H.possibleAttacks.length>0?H.combo(B.board):H.randomAttack(B.board)).isHit;var a=document.getElementById("User".concat(n.mov));n.isHit?(a.className="hit-box",H.setPossibleAttacks(n.mov),e("combo")):a.className="no-hit-box"},q=function(e){if(n.isFinished()||!o)return null;var t=B.attack(H.board,e);return J("Pc"),null===t?null:(t||R("random"),J("User"),L(),t)},K=function(e){o||B.board.placeShip(x,e,N)&&(!function(e,t,n){var a;if("horizontal"===n)for(var c=parseInt(t)+e-1,r=t;r<=c;r++)"box-selected"!==(a=document.getElementById("User".concat(r))).className&&(a.className="box-selected");else if("vertical"===n)for(var i=t+10*(e-1),s=t;s<=i;s+=10)"box-selected"!==(a=document.getElementById("User".concat(s))).className&&(a.className="box-selected")}(x,e,N),H.randomPlace(x),x>1&&S(x-1),2===x&&u(!0))},L=function(){return!(!n.isFinished()||!o)&&(B.board.allSunk()?z("Pc"):H.board.allSunk()&&z("User"),!0)},Q=Object(a.jsx)(d,{selectMove:q,selectPos:K,tableName:"User",status:I,display:o},"A".concat(j)),T=Object(a.jsx)(d,{selectMove:q,selectPos:K,tableName:"Pc",status:D,display:o},"B".concat(j)),V=o?Object(a.jsx)("h3",{children:"Attack the enemy"}):Object(a.jsx)("h3",{children:" Place your ships on the User Board"}),W=g?Object(a.jsxs)("h3",{children:[" ",g," wins!"]}):null;return Object(a.jsxs)("div",{className:"board",children:[Object(a.jsxs)("div",{className:"buttons-ins",children:[Object(a.jsx)(v,{shipSize:x,started:o,direction:N,changeDirection:function(){y("horizontal"===N?"vertical":"horizontal")},restartGame:function(){r(f()),u(!1),p(j+1),S(6),z(null),w(4),G(4)}}),V,W]}),Object(a.jsxs)("div",{className:"tables-display",children:[Q,T]})]})};var m=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(o,{}),Object(a.jsx)(p,{})]})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.0b73f2fd.chunk.js.map